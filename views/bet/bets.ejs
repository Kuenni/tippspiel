<html ng-app = "betsApp">
	<head></head>
</html>
<body ng-Controller = "BetsController">
	<div class="container">
		<h1>Willkomen, <%= req.session.user.username %>!</h1>
		<div id="matchesDiv">
			<div id="choseDayDiv">
				Spieltag w&auml;hlen:
				<select	ng-model="matchdaySelector" ng-options="(day.value + '. Spieltag') for day in matchdays"
				ng-change="printSelectedMatchday()" id="matchday-selector"></select>
			</div>
			<div id="successAlert" class="alert alert-success alert-dismissable">
				<button type="button" class="close" data-dismiss="alert"
				aria-hidden="true">
					&times;
				</button>
				Tipps eingetragen.
			</div>
			<div id="failAlert" class="alert alert-danger alert-dismissable">
				<button type="button" class="close" data-dismiss="alert"
				aria-hidden="true">
					&times;
				</button>
				Fehler beim Eintragen der Tipps.
			</div>
			<div id="resultsTable">
				<table class="table table-striped table-hover">
					<thead>
						<th>Heim</th>
						<th>Gast</th>
						<th class="text-center">Tore Heim</th>
						<th></th>
						<th class="text-center">Tore Gast</th>
						<th class="text-center">Punkte</th>
					</thead>
					<tr ng-repeat="match in matches">
						<td>{{match.teamhome}}</td>
						<td>{{match.teamguest}}</td>
						<td>
						<input type="text" class="text-center" ng-model="match.goalshome"/>
						</td>
						<td class="text-center">:</td>
						<td>
						<input type="text" class="text-center" ng-model="match.goalsguest"/>
						</td>
						<td class="text-center">{{getPointsForBet(match.betresultcode)}}</td>
					</tr>
				</table>
			</div>
			<button class="btn btn-primary text-center" ng-click="updateBets()">
				Abschicken
			</button>
		</div>
	</div>
</body>